<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://fonts.googleapis.com/css?family=Inter"
      rel="stylesheet"
    />
    <title>Review Table</title>
    <meta charset="UTF-8" />
    <meta name="descripton" content="Where every anime review I have done so far is kept." />
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
    <link rel="icon" href="/Images/favicon.ico" />
    <script
      src="https://kit.fontawesome.com/4cad557a5c.js"
      crossorigin="anonymous"
    ></script>
  </head>


<body>
  <nav>
    <div>Anirank</a></div>
    <div class="container">
      <a href="#" class="hover-button"><i class="fa-solid fa-bars"></i></a>
      <div class="hover-content">
        <p><a href="/" aria-current="page" class="Hoverbutton">Home</a></p>
        <p><a href="/reviews.html" class="Hoverbutton">Reviews!</a></p>  
        <p><a href="/characterstudy.html" class="Hoverbutton">Character Studies!</a></p>
        <p><a href="/aboutme.html" class="Hoverbutton">About Me</a></p>
      </div>
    </div>
  </nav>

  <main>
    <div style="text-align:center; font-size:40px;"><b>Objective Anime Ratings</b></div>
    <div >
      <table class="ReviewTable">
        <thead>
            <tr>
                <td>Anime</td>
                <td>|Genre</td>
                <td>|Review/Rating</td>
            </tr>
        </thead>
        <tbody>
        </tbody>
      </div>
        


    </table>
    <div>
        <select id="Rating" onchange="makeTable()"></select> 
    </div>
    <script>
        const Rating =["All", "Seinen", "Romance", "Mecha", "Shonen", "Horror"];
        const select= document.getElementById("Rating");
        Rating.forEach((num)=> 
        {
          option=document.createElement("option");
          option.text=num;
          option.value=num;
          select.appendChild(option);   }
        )
    </script>
    <script>
      const reviews=[{
        Anime: "Neon Genesis Evangelion",
        Genre: "Mecha",
        Rating: 10,
        Link:"./page2.html"
      },{
        Anime: "Attack on Titan",
        Genre: "Seinen",
        Rating: 9,
        Link:"./ReviewSites/AttackonTitan.html"

      },{
        Anime: "Your Lie in April",
        Genre: "Romance",
        Rating: 8,
        Link:"./ReviewSites/YourLieInApril.html"
      },{        
        Anime: "Dandadan",
        Genre: "Shonen",
        Rating: 8,
        Link:"./ReviewSites/Dandadan.html"
      },{
        Anime: "Re:Zero",
        Genre: "Seinen",
        Rating: 9,
        Link:"./ReviewSites/Re:Zero.html"
      },{
        Anime: "Bakemonogatari",
        Genre: "Romance",
        Rating: 7,
        Link:"./ReviewSites/Bakemonogatari.html"

      },{
        Anime: "Uzumaki",
        Genre: "Horror",
        Rating: 5,
        Link:"./ReviewSites/Uzumaki.html"
      },{
        Anime: "Naruto",
        Genre: "Shonen",
        Rating: 9,
        Link:"./ReviewSites/Naruto.html"
      },{
        Anime: "More",
        Genre: "Coming",
        Rating: "Soon",
      }
    ];
      const writeTableRow = (table, anime)=> {
      const newRow= table.insertRow();


      newRow.innerHTML = `<tr id=${anime.Anime}>
        <td>${anime.Anime}</td>
        <td>${anime.Genre}</td>
        <td><a href="${anime.Link}">${anime.Rating}</a></td>


        
        </tr>`;
      
      
      }

      const makeTable= ()=>{

        const tableBody = document.getElementsByTagName("tbody")[0];
        tableBody.innerHTML="";
        if (select.value == "All"){
        reviews.forEach( (row) => {
          writeTableRow(tableBody, row);
        

      }) 
      }
      else{
        const filtered= reviews.filter((r)=>r.Genre == select.value)
        filtered.forEach((r) =>
        writeTableRow(tableBody, r)
        )
        console.log(filtered)
      }

    }
      makeTable()


      


    </script>
  </main>
</body>
</html>
